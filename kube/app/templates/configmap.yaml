apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "app.fullname" . }}-config
  labels:
    {{- include "app.labels" . | nindent 4 }}
data:
  config.yaml: |
    database:
      host: {{ include "app.databaseHost" . | quote }}
      port: {{ .Values.database.port }}
      name: {{ .Values.database.name | quote }}
      max_connections: 10
    server:
      port: 8080
    logging:
      level: {{ .Values.logging.level | default "info" | quote }}
    cors:
      allowed_origins: {{ .Values.cors.allowedOrigins | default "" | quote }}
    graphql:
      playground_enabled: {{ .Values.graphql.playgroundEnabled | default false }}
    swagger:
      enabled: {{ .Values.swagger.enabled | default false }}
