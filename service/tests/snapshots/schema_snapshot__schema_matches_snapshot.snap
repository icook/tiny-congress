---
source: service/tests/schema_snapshot.rs
assertion_line: 135
expression: current_schema
---
-- Schema Snapshot
-- Generated by schema_snapshot test
-- Update: cargo insta review

CREATE TABLE accounts (
    id UUID NOT NULL DEFAULT gen_random_uuid(),
    username TEXT NOT NULL,
    root_pubkey TEXT NOT NULL,
    root_kid TEXT NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now());

CREATE TABLE test_items (
    id UUID NOT NULL DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

-- Indexes
-- accounts.accounts_pkey
CREATE UNIQUE INDEX accounts_pkey ON public.accounts USING btree (id)

-- accounts.accounts_root_kid_key
CREATE UNIQUE INDEX accounts_root_kid_key ON public.accounts USING btree (root_kid)

-- accounts.accounts_username_key
CREATE UNIQUE INDEX accounts_username_key ON public.accounts USING btree (username)

-- accounts.idx_accounts_root_kid
CREATE INDEX idx_accounts_root_kid ON public.accounts USING btree (root_kid)

-- accounts.idx_accounts_username
CREATE INDEX idx_accounts_username ON public.accounts USING btree (username)

-- test_items.test_items_pkey
CREATE UNIQUE INDEX test_items_pkey ON public.test_items USING btree (id)

-- Constraints
-- accounts: 2200_16520_1_not_null (CHECK)
-- accounts: 2200_16520_2_not_null (CHECK)
-- accounts: 2200_16520_3_not_null (CHECK)
-- accounts: 2200_16520_4_not_null (CHECK)
-- accounts: 2200_16520_5_not_null (CHECK)
-- accounts: accounts_pkey (PRIMARY KEY)
-- accounts: accounts_root_kid_key (UNIQUE)
-- accounts: accounts_username_key (UNIQUE)
-- test_items: 2200_16511_1_not_null (CHECK)
-- test_items: 2200_16511_2_not_null (CHECK)
-- test_items: 2200_16511_3_not_null (CHECK)
-- test_items: test_items_pkey (PRIMARY KEY)
