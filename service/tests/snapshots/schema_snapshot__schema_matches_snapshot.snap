---
source: service/tests/schema_snapshot.rs
assertion_line: 188
expression: current_schema
---
-- Schema Snapshot
-- Generated by schema_snapshot test
-- Update: cargo insta review

CREATE TABLE accounts (
    id UUID NOT NULL DEFAULT gen_random_uuid(),
    username TEXT NOT NULL,
    root_pubkey TEXT NOT NULL,
    root_kid TEXT NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

-- Indexes
-- accounts.accounts_pkey
CREATE UNIQUE INDEX accounts_pkey ON public.accounts USING btree (id)

-- accounts.accounts_root_kid_key
CREATE UNIQUE INDEX accounts_root_kid_key ON public.accounts USING btree (root_kid)

-- accounts.accounts_username_key
CREATE UNIQUE INDEX accounts_username_key ON public.accounts USING btree (username)

-- Constraints
-- accounts: accounts_created_at_not_null (CHECK)
-- accounts: accounts_id_not_null (CHECK)
-- accounts: accounts_pkey (PRIMARY KEY)
-- accounts: accounts_root_kid_key (UNIQUE)
-- accounts: accounts_root_kid_not_null (CHECK)
-- accounts: accounts_root_pubkey_not_null (CHECK)
-- accounts: accounts_username_key (UNIQUE)
-- accounts: accounts_username_not_null (CHECK)
